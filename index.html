<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Undertale Music Player</title>
</head>
<body>

<audio id="audioPlayer" controls></audio>
<br/>
<button onclick="toggleAudio()">Play/Pause</button>
<button onclick="playNext()">Next Song</button>

<script>
const songs = [
  "path/to/MenuFull.mp3",
  "path/to/Megalovania.mp3",
  "path/to/HisTheme.mp3",
  "path/to/SnowdinTown.mp3"
];

let used = [];
let currentSongIndex = null;
const audioPlayer = document.getElementById("audioPlayer");

function getNextSongIndex() {
  if (used.length === songs.length) {
    alert("All songs played!");
    return null;
  }
  let index;
  do {
    index = Math.floor(Math.random() * songs.length);
  } while (used.includes(index));
  used.push(index);
  return index;
}

function playNext() {
  const nextIndex = getNextSongIndex();
  if (nextIndex !== null) {
    currentSongIndex = nextIndex;
    audioPlayer.src = songs[nextIndex];
    audioPlayer.play();
  }
}

function toggleAudio() {
  if (audioPlayer.paused) {
    if (!audioPlayer.src && currentSongIndex === null) {
      playNext();  // start from first random song
    } else {
      audioPlayer.play();
    }
  } else {
    audioPlayer.pause();
  }
}

// Optional: autoplay next song after current ends
audioPlayer.addEventListener("ended", () => {
  playNext();
});
</script>

</body>
</html>
